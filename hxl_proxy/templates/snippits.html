{% macro datamenu(key) %}
            <li class="dropdown {{ kwargs.active_visualise }}">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Visualise <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li class="{{ kwargs.active_pie }}"><a href="/data/{{ key }}/chart?type=pie">Pie chart</a></li>
                <li class="{{ kwargs.active_bar }}"><a href="/data/{{ key }}/chart?type=bar">Bar graph</a></li>
                <li class="{{ kwargs.active_column }}"><a href="/data/{{ key }}/chart?type=column">Column graph</a></li>
                <li class="divider"></li>
                <li class="{{ kwargs.active_map }}"><a href="/data/{{ key }}/map">Map</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Download <span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="/data/{{ key }}.csv">Download as CSV</a></li>
                <li><a href="/data/{{ key }}.json">Download as JSON</a></li>
              </ul>
            </li>
{% endmacro %}

{% macro hxltable(source, show_headers=True) %}
    {% if source %}
    <table class="table">
      <thead>
        {% if show_headers and source.hasHeaders %}
        <tr class="hxl-headers">
          {% for header in source.headers %}
          <th>{{ unicode(header) }}</th>
          {% endfor %}
        </tr>
        {% endif %}
        <tr class="hxl-tags">
          {% for tag in source.displayTags %}
          <th>{{ unicode(tag) }}</th>
          {% endfor %}
        </tr>
      </thead>
      <tbody>
        {% for row in source %}
        <tr>
          {% for value in row.values %}
          <td>{{ unicode(value) }}</td>
          {% endfor %}
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% endif %}
{% endmacro %}

{% macro icons() %}
    <link rel="apple-touch-icon" sizes="57x57" href="{{ static('hxl-theme/icons/apple-icon-57x57.png') }}" />
    <link rel="apple-touch-icon" sizes="60x60" href="{{ static('hxl-theme/icons/apple-icon-60x60.png') }}" />
    <link rel="apple-touch-icon" sizes="72x72" href="{{ static('hxl-theme/icons/apple-icon-72x72.png') }}" />
    <link rel="apple-touch-icon" sizes="76x76" href="{{ static('hxl-theme/icons/apple-icon-76x76.png') }}" />
    <link rel="apple-touch-icon" sizes="114x114" href="{{ static('hxl-theme/icons/apple-icon-114x114.png') }}" />
    <link rel="apple-touch-icon" sizes="120x120" href="{{ static('hxl-theme/icons/apple-icon-120x120.png') }}" />
    <link rel="apple-touch-icon" sizes="144x144" href="{{ static('hxl-theme/icons/apple-icon-144x144.png') }}" />
    <link rel="apple-touch-icon" sizes="152x152" href="{{ static('hxl-theme/icons/apple-icon-152x152.png') }}" />
    <link rel="apple-touch-icon" sizes="180x180" href="{{ static('hxl-theme/icons/apple-icon-180x180.png') }}" />
    <link rel="icon" type="image/png" sizes="192x192"  href="{{ static('hxl-theme/icons/android-icon-192x192.png') }}" />
    <link rel="icon" type="image/png" sizes="32x32" href="{{ static('hxl-theme/icons/favicon-32x32.png') }}" />
    <link rel="icon" type="image/png" sizes="96x96" href="{{ static('hxl-theme/icons/favicon-96x96.png') }}" />
    <link rel="icon" type="image/png" sizes="16x16" href="{{ static('hxl-theme/icons/favicon-16x16.png') }}" />
    <link rel="manifest" href="{{ static('hxl-theme/icons/manifest.json') }}" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png" />
    <meta name="theme-color" content="#ffffff" />
{% endmacro %}

{% macro hidden_fields(args) %}
{% for name in args %}
<input type="hidden" name="{{ name }}" value="{{ args[name] }}" />
{% endfor %}
{% endmacro %}
